<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    class User {
      constructor(name, role, pages) {
        this.name = name
        this.role = role
        this.pages = pages
      }

      welcome() {
        console.log('欢迎回来' + '-' + this.name)
      }

      dataShow() {
        throw new Error('抽象方法需要被实现')
      }
    }
    class SuperAdmin extends User{
      constructor(name) {
        super(name, 'superAdmin', ['home', 'role-manage', 'permission-manage', 'news-manage'])
      }
      dataShow() {
        console.log('datashow superAdmin')
      }
      addUser() {
        console.log('添加用户');
      }
      addRight() {
        console.log('添加权限');
      }
    }
    class Admin extends User{
      constructor(name) {
        super(name, 'admin', ['home', 'role-manage', 'news-manage'])
      }
      dataShow() {
        console.log('datashow admin')
      }
      addUser() {
        console.log('添加用户');
      }
    }
    class Editor extends User{
      constructor(name) {
        super(name, 'editor', ['home', 'news-manage'])
      }
      dataShow() {
        console.log('datashow editor')
      }
    }
    function getAbstractUserFactory(role) {
      switch (role) {
        case 'superAdmin':
          return SuperAdmin
        case 'admin':
          return Admin
        case 'editor':
          return Editor
        default:
          throw new Error('参数错误')
      }
    }
    let UserClass = getAbstractUserFactory('superAdmin')
    let a = new UserClass('zht')
    console.log(a);


  </script>


</body>

</html>